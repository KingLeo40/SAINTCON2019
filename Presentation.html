<!DOCTYPE html><html lang="en-US"><head><title>Docker, Your Shell and Security</title><meta property="og:title" content="Docker, Your Shell and Security"><meta name="description" content="Some ideas on using Docker to improve security workflows"><meta property="og:description" content="Some ideas on using Docker to improve security workflows"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>@media screen{body,html{background:#000;height:100%;margin:0;overflow:hidden}[data-bespoke-marp-fragment=inactive]{visibility:hidden}.bespoke-marp-osc{display:none;opacity:0}.bespoke-marp-parent{bottom:0;left:0;position:absolute;right:0;top:0}.bespoke-marp-parent>.bespoke-marp-osc{background:rgba(0,0,0,.65);border-radius:7px;bottom:50px;color:#fff;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;z-index:1}.bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}.bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}.bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}.bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}.bespoke-marp-parent>.bespoke-marp-osc>button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear;-webkit-tap-highlight-color:transparent}.bespoke-marp-parent>.bespoke-marp-osc>button:disabled{cursor:not-allowed;opacity:.15!important}.bespoke-marp-parent>.bespoke-marp-osc>button:hover{opacity:1}.bespoke-marp-parent>.bespoke-marp-osc>button:hover:active{opacity:.6}.bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled){transition:none}.bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTBMMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;height:32px;overflow:hidden;text-indent:100%;white-space:nowrap;width:32px}.bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMzIgOTBsNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;height:32px;overflow:hidden;text-indent:100%;white-space:nowrap;width:32px}.bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTQwIDcwSDIwVjUwbTIwIDBMMjAgNzBtNDAtNDBoMjB2MjBtLTIwIDBsMjAtMjAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;height:32px;overflow:hidden;text-indent:100%;white-space:nowrap;width:32px}.bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen].exit{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTIwIDUwaDIwdjIwbS0yMCAwbDIwLTIwbTQwIDBINjBWMzBtMjAgMEw2MCA1MCIvPjwvc3ZnPg==")}.bespoke-marp-parent.bespoke-marp-inactive{cursor:none}.bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}svg.bespoke-marp-slide{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%;z-index:-1}svg.bespoke-marp-slide.bespoke-marp-active{pointer-events:auto;z-index:0}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}.bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}.bespoke-progress-parent+.bespoke-marp-parent{top:5px}.bespoke-progress-parent .bespoke-progress-bar{flex:0 0 0;background:#0288d1;transition:flex-basis .2s cubic-bezier(0,1,1,1)}}@media print{.bespoke-marp-osc,.bespoke-progress-parent{display:none!important;transition:none!important}.bespoke-marp-parent{top:0}}</style><style>@charset "UTF-8";@import url("https://fonts.googleapis.com/css?family=Lato:400,900|Roboto+Mono:400,700");@import url("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/github.min.css");div#p>svg>foreignObject>section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center}div#p>svg>foreignObject>section:after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#p>svg>foreignObject>section:not([data-marpit-pagination]):after{display:none}/* Normalization */div#p>svg>foreignObject>section h1{font-size:2em;margin:0.67em 0}@page{size:1280px 720px;margin:0}@media print{body,html{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#p>svg>foreignObject>section{page-break-before:always;break-before:page}div#p>svg>foreignObject>section,div#p>svg>foreignObject>section *{-webkit-print-color-adjust:exact!important;color-adjust:exact!important}div#p>svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}div#p>svg>foreignObject>section svg[data-marp-fitting=svg]{display:block;height:auto;width:100%}@supports (-ms-ime-align:auto){div#p>svg>foreignObject>section svg[data-marp-fitting=svg]{position:static}}div#p>svg>foreignObject>section svg[data-marp-fitting=svg].__reflow__{content:""}@supports (-ms-ime-align:auto){div#p>svg>foreignObject>section svg[data-marp-fitting=svg].__reflow__{position:relative}}div#p>svg>foreignObject>section [data-marp-fitting-svg-content]{display:table;white-space:nowrap}div#p>svg>foreignObject>section [data-marp-fitting-svg-content-wrap]{white-space:pre}div#p>svg>foreignObject>section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}
/*!
 * Marp / Marpit Haskell theme.
 *
 * @theme haskell
 * @author MATSUBARA Nobutada
 * @size 4:3 960px 720px
 * @size 16:9 1280px 720px
 */div#p>svg>foreignObject>section svg[data-marp-fitting=svg]{max-height:580px}div#p>svg>foreignObject>section h1,div#p>svg>foreignObject>section h2,div#p>svg>foreignObject>section h3,div#p>svg>foreignObject>section h4,div#p>svg>foreignObject>section h5,div#p>svg>foreignObject>section h6{margin:0.5em 0 0 0}div#p>svg>foreignObject>section h1 strong,div#p>svg>foreignObject>section h2 strong,div#p>svg>foreignObject>section h3 strong,div#p>svg>foreignObject>section h4 strong,div#p>svg>foreignObject>section h5 strong,div#p>svg>foreignObject>section h6 strong{font-weight:inherit}div#p>svg>foreignObject>section h1{font-size:1.8em}div#p>svg>foreignObject>section h2{font-size:1.5em}div#p>svg>foreignObject>section h3{font-size:1.3em}div#p>svg>foreignObject>section h4{font-size:1.1em}div#p>svg>foreignObject>section h5{font-size:1em}div#p>svg>foreignObject>section h6{font-size:0.9em}div#p>svg>foreignObject>section blockquote,div#p>svg>foreignObject>section p{margin:1em 0 0 0}div#p>svg>foreignObject>section ol>li,div#p>svg>foreignObject>section ul>li{margin:0.3em 0 0 0}div#p>svg>foreignObject>section ol>li>p,div#p>svg>foreignObject>section ul>li>p{margin:0.6em 0 0 0}div#p>svg>foreignObject>section code{display:inline-block;font-family:'NasuM','Roboto Mono',monospace;font-size:0.8em;letter-spacing:0;margin:-0.1em 0.15em;padding:0.1em 0.2em;vertical-align:baseline}div#p>svg>foreignObject>section pre{display:block;margin:1em 0 0 0;min-height:1em;overflow:visible}div#p>svg>foreignObject>section pre code{box-sizing:border-box;margin:0;min-width:100%;padding:0.5em;font-size:0.7em}div#p>svg>foreignObject>section pre code svg[data-marp-fitting=svg]{max-height:calc(580px - 1em)}div#p>svg>foreignObject>section blockquote{margin:1em 0 0 0;padding:0 1em;position:relative}div#p>svg>foreignObject>section blockquote:after,div#p>svg>foreignObject>section blockquote:before{content:'“';display:block;font-family:'Times New Roman',serif;font-weight:bold;position:absolute}div#p>svg>foreignObject>section blockquote:before{top:0;left:0}div#p>svg>foreignObject>section blockquote:after{right:0;bottom:0;transform:rotate(180deg)}div#p>svg>foreignObject>section blockquote>:first-child{margin-top:0}div#p>svg>foreignObject>section mark{background:transparent}div#p>svg>foreignObject>section table{border-spacing:0;border-collapse:collapse;margin:1em 0 0 0}div#p>svg>foreignObject>section table td,div#p>svg>foreignObject>section table th{padding:0.2em 0.4em;border-width:1px;border-style:solid}div#p>svg>foreignObject>section{background-image:linear-gradient(135deg,rgba(136,136,136,0),rgba(136,136,136,0.02) 50%,rgba(255,255,255,0) 50%,rgba(255,255,255,0.05));font-size:28px;font-family:'源真ゴシック','ヒラギノ角ゴ Pro W3','Lato','Avenir Next','Avenir','Trebuchet MS','Segoe UI',sans-serif;line-height:1.35;letter-spacing:1.25px;padding:70px;color:#323232;background-color:#FFFFFF;background:""}div#p>svg>foreignObject>section>:first-child,div#p>svg>foreignObject>section>header:first-child+*{margin-top:0}div#p>svg>foreignObject>section a,div#p>svg>foreignObject>section mark{color:#5d4f85}div#p>svg>foreignObject>section code{background:rgba(0,0,0,0.1);color:#323232}div#p>svg>foreignObject>section h1 strong,div#p>svg>foreignObject>section h2 strong,div#p>svg>foreignObject>section h3 strong,div#p>svg>foreignObject>section h4 strong,div#p>svg>foreignObject>section h5 strong,div#p>svg>foreignObject>section h6 strong{color:#5d4f85}div#p>svg>foreignObject>section h1 img,div#p>svg>foreignObject>section h2 img,div#p>svg>foreignObject>section h3 img,div#p>svg>foreignObject>section h4 img,div#p>svg>foreignObject>section h5 img,div#p>svg>foreignObject>section h6 img{display:block;margin:auto}div#p>svg>foreignObject>section pre>code{background:rgba(0,0,0,0.1);color:#323232}div#p>svg>foreignObject>section blockquote:after,div#p>svg>foreignObject>section blockquote:before,div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header,div#p>svg>foreignObject>section section:after{color:#5b5b5b}div#p>svg>foreignObject>section table td,div#p>svg>foreignObject>section table th{border-color:#323232}div#p>svg>foreignObject>section table thead th{background:#323232;color:#FFFFFF}div#p>svg>foreignObject>section table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section table tbody>tr:nth-child(odd) th{background:rgba(50,50,50,0.1)}div#p>svg>foreignObject>section.invert{color:#FFFFFF;background-color:#323232;background:""}div#p>svg>foreignObject>section.invert a,div#p>svg>foreignObject>section.invert mark{color:#DB83ED}div#p>svg>foreignObject>section.invert code{background:rgba(0,0,0,0.3);color:#FFFFFF}div#p>svg>foreignObject>section.invert h1 strong,div#p>svg>foreignObject>section.invert h2 strong,div#p>svg>foreignObject>section.invert h3 strong,div#p>svg>foreignObject>section.invert h4 strong,div#p>svg>foreignObject>section.invert h5 strong,div#p>svg>foreignObject>section.invert h6 strong{color:#DB83ED}div#p>svg>foreignObject>section.invert h1 img,div#p>svg>foreignObject>section.invert h2 img,div#p>svg>foreignObject>section.invert h3 img,div#p>svg>foreignObject>section.invert h4 img,div#p>svg>foreignObject>section.invert h5 img,div#p>svg>foreignObject>section.invert h6 img{display:block;margin:auto}div#p>svg>foreignObject>section.invert pre>code{background:rgba(0,0,0,0.3);color:#FFFFFF}div#p>svg>foreignObject>section.invert blockquote:after,div#p>svg>foreignObject>section.invert blockquote:before,div#p>svg>foreignObject>section.invert footer,div#p>svg>foreignObject>section.invert header,div#p>svg>foreignObject>section.invert section:after{color:#d6d6d6}div#p>svg>foreignObject>section.invert table td,div#p>svg>foreignObject>section.invert table th{border-color:#FFFFFF}div#p>svg>foreignObject>section.invert table thead th{background:#FFFFFF;color:#323232}div#p>svg>foreignObject>section.invert table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section.invert table tbody>tr:nth-child(odd) th{background:rgba(255,255,255,0.1)}div#p>svg>foreignObject>section.haskell{color:#FFFFFF;background-color:#5d4f85;background:url("https://raw.githubusercontent.com/haskell-infra/hl/master/static/img/pattern.png")}div#p>svg>foreignObject>section.haskell a,div#p>svg>foreignObject>section.haskell mark{color:#DB83ED}div#p>svg>foreignObject>section.haskell code{background:rgba(235,228,243,0.25);color:#FFFFFF}div#p>svg>foreignObject>section.haskell h1 strong,div#p>svg>foreignObject>section.haskell h2 strong,div#p>svg>foreignObject>section.haskell h3 strong,div#p>svg>foreignObject>section.haskell h4 strong,div#p>svg>foreignObject>section.haskell h5 strong,div#p>svg>foreignObject>section.haskell h6 strong{color:#DB83ED}div#p>svg>foreignObject>section.haskell h1 img,div#p>svg>foreignObject>section.haskell h2 img,div#p>svg>foreignObject>section.haskell h3 img,div#p>svg>foreignObject>section.haskell h4 img,div#p>svg>foreignObject>section.haskell h5 img,div#p>svg>foreignObject>section.haskell h6 img{display:block;margin:auto}div#p>svg>foreignObject>section.haskell pre>code{background:rgba(235,228,243,0.25);color:#FFFFFF}div#p>svg>foreignObject>section.haskell blockquote:after,div#p>svg>foreignObject>section.haskell blockquote:before,div#p>svg>foreignObject>section.haskell footer,div#p>svg>foreignObject>section.haskell header,div#p>svg>foreignObject>section.haskell section:after{color:#dfdce7}div#p>svg>foreignObject>section.haskell table td,div#p>svg>foreignObject>section.haskell table th{border-color:#FFFFFF}div#p>svg>foreignObject>section.haskell table thead th{background:#FFFFFF;color:#5d4f85}div#p>svg>foreignObject>section.haskell table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section.haskell table tbody>tr:nth-child(odd) th{background:rgba(255,255,255,0.1)}div#p>svg>foreignObject>section.lead{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center}div#p>svg>foreignObject>section.lead h1,div#p>svg>foreignObject>section.lead h2,div#p>svg>foreignObject>section.lead h3,div#p>svg>foreignObject>section.lead h4,div#p>svg>foreignObject>section.lead h5,div#p>svg>foreignObject>section.lead h6{text-align:center}div#p>svg>foreignObject>section.lead h1 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h2 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h3 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h4 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h5 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h6 svg[data-marp-fitting=svg]{--preserve-aspect-ratio:xMidYMid meet}div#p>svg>foreignObject>section.lead p{text-align:center}div#p>svg>foreignObject>section.lead blockquote>h1,div#p>svg>foreignObject>section.lead blockquote>h2,div#p>svg>foreignObject>section.lead blockquote>h3,div#p>svg>foreignObject>section.lead blockquote>h4,div#p>svg>foreignObject>section.lead blockquote>h5,div#p>svg>foreignObject>section.lead blockquote>h6,div#p>svg>foreignObject>section.lead blockquote>p{text-align:left}div#p>svg>foreignObject>section.lead blockquote svg[data-marp-fitting=svg]:not([data-marp-fitting-math]){--preserve-aspect-ratio:xMinYMin meet}div#p>svg>foreignObject>section.lead ol>li>p,div#p>svg>foreignObject>section.lead ul>li>p{text-align:left}div#p>svg>foreignObject>section.lead table{margin-left:auto;margin-right:auto}div#p>svg>foreignObject>section.lead-invert{color:#FFFFFF;background-color:#323232;background:"";display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center}div#p>svg>foreignObject>section.lead-invert a,div#p>svg>foreignObject>section.lead-invert mark{color:#DB83ED}div#p>svg>foreignObject>section.lead-invert code{background:rgba(0,0,0,0.3);color:#FFFFFF}div#p>svg>foreignObject>section.lead-invert h1 strong,div#p>svg>foreignObject>section.lead-invert h2 strong,div#p>svg>foreignObject>section.lead-invert h3 strong,div#p>svg>foreignObject>section.lead-invert h4 strong,div#p>svg>foreignObject>section.lead-invert h5 strong,div#p>svg>foreignObject>section.lead-invert h6 strong{color:#DB83ED}div#p>svg>foreignObject>section.lead-invert h1 img,div#p>svg>foreignObject>section.lead-invert h2 img,div#p>svg>foreignObject>section.lead-invert h3 img,div#p>svg>foreignObject>section.lead-invert h4 img,div#p>svg>foreignObject>section.lead-invert h5 img,div#p>svg>foreignObject>section.lead-invert h6 img{display:block;margin:auto}div#p>svg>foreignObject>section.lead-invert pre>code{background:rgba(0,0,0,0.3);color:#FFFFFF}div#p>svg>foreignObject>section.lead-invert blockquote:after,div#p>svg>foreignObject>section.lead-invert blockquote:before,div#p>svg>foreignObject>section.lead-invert footer,div#p>svg>foreignObject>section.lead-invert header,div#p>svg>foreignObject>section.lead-invert section:after{color:#d6d6d6}div#p>svg>foreignObject>section.lead-invert table td,div#p>svg>foreignObject>section.lead-invert table th{border-color:#FFFFFF}div#p>svg>foreignObject>section.lead-invert table thead th{background:#FFFFFF;color:#323232}div#p>svg>foreignObject>section.lead-invert table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section.lead-invert table tbody>tr:nth-child(odd) th{background:rgba(255,255,255,0.1)}div#p>svg>foreignObject>section.lead-invert h1,div#p>svg>foreignObject>section.lead-invert h2,div#p>svg>foreignObject>section.lead-invert h3,div#p>svg>foreignObject>section.lead-invert h4,div#p>svg>foreignObject>section.lead-invert h5,div#p>svg>foreignObject>section.lead-invert h6{text-align:center}div#p>svg>foreignObject>section.lead-invert h1 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead-invert h2 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead-invert h3 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead-invert h4 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead-invert h5 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead-invert h6 svg[data-marp-fitting=svg]{--preserve-aspect-ratio:xMidYMid meet}div#p>svg>foreignObject>section.lead-invert p{text-align:center}div#p>svg>foreignObject>section.lead-invert blockquote>h1,div#p>svg>foreignObject>section.lead-invert blockquote>h2,div#p>svg>foreignObject>section.lead-invert blockquote>h3,div#p>svg>foreignObject>section.lead-invert blockquote>h4,div#p>svg>foreignObject>section.lead-invert blockquote>h5,div#p>svg>foreignObject>section.lead-invert blockquote>h6,div#p>svg>foreignObject>section.lead-invert blockquote>p{text-align:left}div#p>svg>foreignObject>section.lead-invert blockquote svg[data-marp-fitting=svg]:not([data-marp-fitting-math]){--preserve-aspect-ratio:xMinYMin meet}div#p>svg>foreignObject>section.lead-invert ol>li>p,div#p>svg>foreignObject>section.lead-invert ul>li>p{text-align:left}div#p>svg>foreignObject>section.lead-invert table{margin-left:auto;margin-right:auto}div#p>svg>foreignObject>section.lead-haskell{color:#FFFFFF;background-color:#5d4f85;background:url("https://raw.githubusercontent.com/haskell-infra/hl/master/static/img/pattern.png");display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center}div#p>svg>foreignObject>section.lead-haskell a,div#p>svg>foreignObject>section.lead-haskell mark{color:#DB83ED}div#p>svg>foreignObject>section.lead-haskell code{background:rgba(235,228,243,0.25);color:#FFFFFF}div#p>svg>foreignObject>section.lead-haskell h1 strong,div#p>svg>foreignObject>section.lead-haskell h2 strong,div#p>svg>foreignObject>section.lead-haskell h3 strong,div#p>svg>foreignObject>section.lead-haskell h4 strong,div#p>svg>foreignObject>section.lead-haskell h5 strong,div#p>svg>foreignObject>section.lead-haskell h6 strong{color:#DB83ED}div#p>svg>foreignObject>section.lead-haskell h1 img,div#p>svg>foreignObject>section.lead-haskell h2 img,div#p>svg>foreignObject>section.lead-haskell h3 img,div#p>svg>foreignObject>section.lead-haskell h4 img,div#p>svg>foreignObject>section.lead-haskell h5 img,div#p>svg>foreignObject>section.lead-haskell h6 img{display:block;margin:auto}div#p>svg>foreignObject>section.lead-haskell pre>code{background:rgba(235,228,243,0.25);color:#FFFFFF}div#p>svg>foreignObject>section.lead-haskell blockquote:after,div#p>svg>foreignObject>section.lead-haskell blockquote:before,div#p>svg>foreignObject>section.lead-haskell footer,div#p>svg>foreignObject>section.lead-haskell header,div#p>svg>foreignObject>section.lead-haskell section:after{color:#dfdce7}div#p>svg>foreignObject>section.lead-haskell table td,div#p>svg>foreignObject>section.lead-haskell table th{border-color:#FFFFFF}div#p>svg>foreignObject>section.lead-haskell table thead th{background:#FFFFFF;color:#5d4f85}div#p>svg>foreignObject>section.lead-haskell table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section.lead-haskell table tbody>tr:nth-child(odd) th{background:rgba(255,255,255,0.1)}div#p>svg>foreignObject>section.lead-haskell h1,div#p>svg>foreignObject>section.lead-haskell h2,div#p>svg>foreignObject>section.lead-haskell h3,div#p>svg>foreignObject>section.lead-haskell h4,div#p>svg>foreignObject>section.lead-haskell h5,div#p>svg>foreignObject>section.lead-haskell h6{text-align:center}div#p>svg>foreignObject>section.lead-haskell h1 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead-haskell h2 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead-haskell h3 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead-haskell h4 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead-haskell h5 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead-haskell h6 svg[data-marp-fitting=svg]{--preserve-aspect-ratio:xMidYMid meet}div#p>svg>foreignObject>section.lead-haskell p{text-align:center}div#p>svg>foreignObject>section.lead-haskell blockquote>h1,div#p>svg>foreignObject>section.lead-haskell blockquote>h2,div#p>svg>foreignObject>section.lead-haskell blockquote>h3,div#p>svg>foreignObject>section.lead-haskell blockquote>h4,div#p>svg>foreignObject>section.lead-haskell blockquote>h5,div#p>svg>foreignObject>section.lead-haskell blockquote>h6,div#p>svg>foreignObject>section.lead-haskell blockquote>p{text-align:left}div#p>svg>foreignObject>section.lead-haskell blockquote svg[data-marp-fitting=svg]:not([data-marp-fitting-math]){--preserve-aspect-ratio:xMinYMin meet}div#p>svg>foreignObject>section.lead-haskell ol>li>p,div#p>svg>foreignObject>section.lead-haskell ul>li>p{text-align:left}div#p>svg>foreignObject>section.lead-haskell table{margin-left:auto;margin-right:auto}div#p>svg>foreignObject>section:after,div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header{box-sizing:border-box;font-size:66%;height:70px;line-height:50px;overflow:hidden;padding:10px 25px;position:absolute}div#p>svg>foreignObject>section header{left:0;right:0;top:0}div#p>svg>foreignObject>section footer{left:0;right:0;bottom:0}div#p>svg>foreignObject>section:after{right:0;bottom:0;font-size:80%}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]{display:block!important;padding:0!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]:after,div#p>svg>foreignObject>section[data-marpit-advanced-background=background]:before,div#p>svg>foreignObject>section[data-marpit-advanced-background=content]:after,div#p>svg>foreignObject>section[data-marpit-advanced-background=content]:before{display:none!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction=vertical]{flex-direction:column}div#p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split]>div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split,50%)}div#p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split=right]>div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#p>svg>foreignObject>section[data-marpit-advanced-background=content],div#p>svg>foreignObject>section[data-marpit-advanced-background=pseudo]{background:transparent!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=pseudo],div#p>svg[data-marpit-svg]>foreignObject[data-marpit-advanced-background=pseudo]{pointer-events:none!important}div#p>svg>foreignObject>section[data-marpit-advanced-background-split]{width:100%;height:100%}</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button></div><div id="p"><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="1" data-class="lead" data-theme="haskell" class="lead" style="--class:lead;--theme:haskell;">
<h1> Docker, Your Shell and Security</h1>
<h4><em>Ideas on using Docker to improve security workflows</em></h4>
<p><strong><a href="https://heywoodlh-saintcon2019.netlify.com">https://heywoodlh-saintcon2019.netlify.com</a></strong></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="2" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="2" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h3>Spencer Heywood</h3>
<p><em>Security Analyst @ Utah Education Network</em></p>
<p><strong><a href="https://github.com/heywoodlh/">https://github.com/heywoodlh/</a></strong></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="3" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="3" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>Docker Basics</h1>
<h3>What is Docker?</h3>
<p>A cross-platform container service that can run Linux and Windows Applications.</p>
<h3>What are containers?</h3>
<p>High-level overview of a container: a tiny machine with pre-packaged software. I often compare containers to <em>very</em> tiny and single-purpose virtual machines.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="4" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="4" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>Why I use Docker?</h1>
<ul>
<li>
<p>Cross-platform</p>
</li>
<li>
<p>Simplifies installation of command line and server applications</p>
</li>
<li>
<p>Widely used</p>
</li>
<li>
<p>User-friendly and well documented</p>
</li>
<li>
<p>Free and open-source</p>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="5" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="5" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>A Simple Dockerfile:</h1>
<h6>A Dockerfile contains the build instructions when a Docker image is created.</h6>
<pre><code class="language-bash">FROM ubuntu    <span class="hljs-comment">### Use the official Ubuntu Docker image as the base</span>

RUN apt update &amp;&amp; apt install telnet netcat -y    <span class="hljs-comment">### Install telnet and netcat</span>

CMD <span class="hljs-string">"/bin/bash"</span>    <span class="hljs-comment">### Set the default command to run in the container</span>
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="6" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="6" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>Some Docker Command Examples:</h1>
<p>Pull (download) a Docker image from <a href="http://hub.docker.com">hub.docker.com</a> for later use:</p>
<pre><code class="language-bash">docker pull ubuntu
</code></pre>
<p>Run an Ubuntu container that executes the command <code>echo &quot;hello world&quot;</code>:</p>
<pre><code class="language-bash">docker run ubuntu <span class="hljs-built_in">echo</span> <span class="hljs-string">"hello world"</span>
</code></pre>
<p>Get an interactive BASH shell in a newly created Ubuntu container and automatically remove the container ( the <code>--rm</code> flag) when the shell exits:</p>
<pre><code class="language-bash">docker run --rm -it --name my_ubuntu ubuntu bash
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="7" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="7" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<p>List running containers:</p>
<pre><code class="language-bash">docker ps
</code></pre>
<p>Stop and remove a container:</p>
<pre><code class="language-bash">docker stop &lt;container id&gt; &amp;&amp; docker rm &lt;container id&gt;
</code></pre>
<p>Start a currently stopped container:</p>
<pre><code class="language-bash">docker start &lt;container id&gt;
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="8" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="8" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>Common Container Design Principles</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="9" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="9" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h3>Minimal:</h3>
<ul>
<li>Containers run on tiny Linux (or Windows) distributions.</li>
<li>Provide the minimum required kernel/OS functionality (networking, package manager, etc.) to run an application.</li>
<li>Common Linux tools not required by the kernel or application are usually not installed.</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="10" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="10" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h3>Single-Purpose:</h3>
<ul>
<li>Containers are usually built to run a single piece of software.</li>
<li>For applications that require multiple pieces of software to run, often the deployment requires multiple linked containers.</li>
</ul>
<p><em>I.E. for a web application, such as Wordpress, there is often a container dedicated to running your web server <em>and another separate</em> container providing database functionality for the application.</em></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="11" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="11" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h3>Secure:</h3>
<ul>
<li>
<p>Containers provide a layer of isolation from the host running the containers.</p>
</li>
<li>
<p>Containers are isolated from other containers, unless explicitly linked.</p>
</li>
<li>
<p>Container networking is isolated by default (no exposed ports unless configured otherwise).</p>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="12" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="12" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>Docker for Security</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="13" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="13" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>Run Security Tools in Docker Containers!</h1>
<ul>
<li>
<p>Keep your security tools isolated from your host (less clutter, more security).</p>
</li>
<li>
<p>Have the same security workflows on Linux, MacOS and Windows (if using WSL 2).</p>
</li>
<li>
<p>Use resources more efficiently than with a virtual machine.</p>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="14" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="14" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>Running Security Tools in Docker via Your Preferred Shell</h1>
<p>Use BASH or Powershell aliases, Fish functions or a similar mechanism in your shell to shorten long Docker commands.</p>
<p>For example, the following <code>nmap</code> command in Docker:</p>
<pre><code class="language-bash">docker run --rm --net host --privileged booyaabes/kali-linux-full nmap -sS 192.168.1.0/24
</code></pre>
<p>Could be made into a BASH alias:</p>
<pre><code class="language-bash"><span class="hljs-built_in">alias</span> nmap=<span class="hljs-string">"docker run --rm --net host --privileged booyaabes/kali-linux-full nmap <span class="hljs-variable">$@</span>"</span>
</code></pre>
<p>Which would then allow you to run the <code>nmap</code> Docker alias like so:</p>
<pre><code class="language-bash">nmap -sS 192.168.1.0/24
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="15" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="15" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>BASH Aliases and Fish Function</h1>
<h3>Start Using Docker+BASH/Fish Today:</h3>
<p>A compiled list of common security tool Docker aliases/functions is available for use today in the Github repository of this presentation (look at the README for the links):</p>
<p><strong><a href="https://github.com/heywoodlh/SAINTCON2019">https://github.com/heywoodlh/SAINTCON2019</a></strong></p>
<p>BASH Aliases: <strong><a href="https://github.com/heywoodlh/SAINTCON2019/blob/master/security-functions.sh">https://github.com/heywoodlh/SAINTCON2019/blob/master/security-functions.sh</a></strong></p>
<p>Fish Functions: <strong><a href="https://github.com/heywoodlh/SAINTCON2019/blob/master/security-functions.fish">https://github.com/heywoodlh/SAINTCON2019/blob/master/security-functions.fish</a></strong></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="16" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="16" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>Some Example BASH Aliases</h1>
<p>Nmap:</p>
<pre><code class="language-bash"><span class="hljs-built_in">alias</span> nmap=<span class="hljs-string">"docker run --rm --net host --privileged booyaabes/kali-linux-full nmap <span class="hljs-variable">$@</span>"</span>
</code></pre>
<p>Metasploit:</p>
<pre><code class="language-bash"><span class="hljs-built_in">alias</span> msfconsole=<span class="hljs-string">"docker run -it --rm --net host booyaabes/kali-linux-full msfconsole <span class="hljs-variable">$@</span>"</span>
</code></pre>
<p>Deploy OpenVAS for vulnerability scanning:</p>
<pre><code class="language-bash"><span class="hljs-built_in">alias</span> openvas=<span class="hljs-string">"docker run -d -p 443:443 -p 9390:9390 --name openvas mikesplain/openvas"</span>
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="17" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="17" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>With Great Power Comes Great Responsibility!</h1>
<p>Docker can be easily weaponized:</p>
<ul>
<li>Docker runs as a privileged service.</li>
<li>As a privileged service, Docker can do things like access and manipulate network devices and access files/folders that are normally restricted.</li>
<li>There are <em>tons</em> of potentially dangerous tools available at <a href="http://hub.docker.com">hub.docker.com</a> that could easily be pulled down and used maliciously.</li>
</ul>
<h6>This doesn't mean you shouldn't use Docker, but you should know the risks before you rely solely on it.</h6>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="18" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="18" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>Some Security Suggestions:</h1>
<ul>
<li>
<p>If Docker won't be used regularly, don't install it.</p>
</li>
<li>
<p>Don't be careless with access to the Docker daemon (I.E. on a shared Linux system, don't add users to the <code>docker</code> group).</p>
</li>
<li>
<p>Use verified/official images from Docker Hub.</p>
</li>
<li>
<p>If using a third party's Docker container look at the Dockerfile when possible. Understand how the container is built and what each command in the Dockerfile is doing. If you aren't sure, don't use the container.</p>
</li>
</ul>
<h6>Docker is a virtualization tool: a lot of the same risks (and benefits) come with other virtualization tools (Virtualbox, VMWare, etc).</h6>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="19" data-class="lead" data-paginate="true" data-theme="haskell" class="lead" data-marpit-pagination="19" data-marpit-pagination-total="19" style="--class:lead;--paginate:true;--theme:haskell;">
<h1>That's all!</h1>
</section>
</foreignObject></svg></div><script>!function(){"use strict";const t=()=>"Apple Computer, Inc."===navigator.vendor?[e]:[];function e(t){Array.from(document.getElementsByTagName("svg"),e=>{if(e.hasAttribute("data-marpit-svg")){const{clientHeight:r,clientWidth:a}=e;e.style.transform||(e.style.transform="translateZ(0)");const i=t||e.currentScale||1,n=e.viewBox.baseVal.width/i,s=e.viewBox.baseVal.height/i,o=Math.min(r/s,a/n);Array.from(e.querySelectorAll(":scope > foreignObject"),t=>{const e=t.x.baseVal.value,i=t.y.baseVal.value;Array.from(t.querySelectorAll(":scope > section"),t=>{t.style.transformOrigin||(t.style.transformOrigin="0 0");const l=(a-o*n)/2-e,c=(r-o*s)/2-i;t.style.transform=`translate3d(${l}px,${c}px,0) scale(${o}) translate(${e}px,${i}px)`})})}})}const r="data-marp-fitting",a="data-marp-fitting-code",i="data-marp-fitting-math",n=(t,e,r)=>{if(t.getAttribute(e)!==r)return t.setAttribute(e,r),!0};!function(e=!0){const s=()=>{for(const e of t())e();Array.from(document.querySelectorAll(`svg[${r}="svg"]`),t=>{const e=t.firstChild,r=e.firstChild,{scrollWidth:s,scrollHeight:o}=r;let l,c=1;if(t.hasAttribute(a)&&(l=t.parentElement.parentElement),t.hasAttribute(i)&&(l=t.parentElement),l){const t=getComputedStyle(l),e=Math.ceil(l.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight));e&&(c=e)}const m=Math.max(s,c),p=Math.max(o,1),g=`0 0 ${m} ${p}`;n(e,"width",`${m}`),n(e,"height",`${p}`),n(t,"preserveAspectRatio",getComputedStyle(t).getPropertyValue("--preserve-aspect-ratio")||"xMinYMin meet"),n(t,"viewBox",g)&&t.classList.toggle("__reflow__")}),e&&window.requestAnimationFrame(s)};s()}()}();
</script><script>!function(){"use strict";var e={from:function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),s=[].filter.call("string"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,(function(e){return"SCRIPT"!==e.nodeName})),a={},o=function(e,t){return(t=t||{}).index=s.indexOf(e),t.slide=e,t},i=function(e,t){a[e]=(a[e]||[]).filter((function(e){return e!==t}))},l=function(e,t){return(a[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},c=function(e,t){s[e]&&(n&&l("deactivate",o(n,t)),n=s[e],l("activate",o(n,t)))},u=function(e,t){var r=s.indexOf(n)+e;l(e>0?"next":"prev",o(n,t))&&c(r,t)},d={off:i,on:function(e,t){return(a[e]||(a[e]=[])).push(t),i.bind(null,e,t)},fire:l,slide:function(e,t){if(!arguments.length)return s.indexOf(n);l("slide",o(s[e],t))&&c(e,t)},next:u.bind(null,1),prev:u.bind(null,-1),parent:r,slides:s,destroy:function(e){l("destroy",o(n,e)),a={}}};return(t||[]).forEach((function(e){e(d)})),n||c(0),d}},t=function(){return function(e){e.slides.forEach((function(e){e.addEventListener("keydown",(function(e){(/INPUT|TEXTAREA|SELECT/.test(e.target.nodeName)||"true"===e.target.contentEditable)&&e.stopPropagation()}))}))}};function n(e){e.parent.classList.add("bespoke-marp-parent"),e.slides.map(e=>e.classList.add("bespoke-marp-slide")),e.on("activate",t=>{e.slides.map(e=>e.classList.remove("bespoke-marp-active")),t.slide.classList.add("bespoke-marp-active")})}function r(e=2e3){return t=>{let n;function r(){n&&clearTimeout(n),n=setTimeout(()=>{t.parent.classList.add("bespoke-marp-inactive")},e),t.parent.classList.remove("bespoke-marp-inactive")}document.addEventListener("mousedown",r),document.addEventListener("mousemove",r),document.addEventListener("touchend",r),setTimeout(r,0)}}function s(e){window.addEventListener("load",()=>{for(const t of e.slides){const e=t.querySelector("[data-marp-fitting]")?"":"hideable";t.setAttribute("data-bespoke-marp-load",e)}})}function a(e){let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map(e=>[null,...e.querySelectorAll("[data-marpit-fragment]")])});const r=r=>void 0!==e.fragments[t][n+r],s=(r,s)=>{t=r,n=s,e.fragments.forEach((e,t)=>{e.forEach((e,n)=>{if(null==e)return;const a=t<r||t===r&&n<=s;e.setAttribute("data-bespoke-marp-fragment",a?"active":"inactive"),t===r&&n===s?e.setAttribute("data-bespoke-marp-current-fragment","current"):e.removeAttribute("data-bespoke-marp-current-fragment")})}),e.fragmentIndex=s;const a={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:s};e.fire("fragment",a)};e.on("next",()=>{if(r(1))return s(t,n+1),!1;const a=t+1;e.fragments[a]&&s(a,0)}),e.on("prev",()=>{if(r(-1))return s(t,n-1),!1;const a=t-1;e.fragments[a]&&s(a,e.fragments[a].length-1)}),e.on("slide",({index:t,fragment:n})=>{let r=0;if(void 0!==n){const s=e.fragments[t];if(s){const{length:e}=s;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}s(t,r)}),s(0,0)}var o,i=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){!function(){var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,s=n.length,a={};r<s;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)a[n[0][r]]=e[r];return a}return!1}(),s={change:r.fullscreenchange,error:r.fullscreenerror},a={request:function(e){return new Promise(function(n,s){var a=function(){this.off("change",a),n()}.bind(this);this.on("change",a),e=e||t.documentElement,Promise.resolve(e[r.requestFullscreen]()).catch(s)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var s=function(){this.off("change",s),e()}.bind(this);this.on("change",s),Promise.resolve(t[r.exitFullscreen]()).catch(n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=s[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=s[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()}));i.isEnabled;function l(e){e.fullscreen=()=>{i.isEnabled&&i.toggle(document.body)},document.addEventListener("keydown",t=>{70!==t.which&&122!==t.which||t.altKey||t.ctrlKey||t.metaKey||!i.isEnabled||(e.fullscreen(),t.preventDefault())})}function c(e={}){const t=Object.assign({interval:200},e);return e=>{document.addEventListener("keydown",t=>{(32===t.which&&t.shiftKey||33===t.which||37===t.which||38===t.which)&&e.prev(),(32===t.which&&!t.shiftKey||34===t.which||39===t.which||40===t.which)&&e.next(),35===t.which&&e.slide(e.slides.length-1,{fragment:-1}),36===t.which&&e.slide(0)});let n,r,s=0;e.parent.addEventListener("wheel",a=>{let i=!1;const l=(e,t)=>{e&&(i=i||function(e,t){return function(e,t){const n=t===o.X?"Width":"Height";return e[`client${n}`]<e[`scroll${n}`]}(e,t)&&function(e,t){const{overflow:n}=e,r=e[`overflow${t}`];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r}(getComputedStyle(e),t)}(e,t)),e&&e.parentElement&&l(e.parentElement,t)};if(0!==a.deltaX&&l(a.target,o.X),0!==a.deltaY&&l(a.target,o.Y),i)return;a.preventDefault(),r&&clearTimeout(r),r=setTimeout(()=>{n=0},t.interval);const c=Date.now()-s<t.interval,u=Math.sqrt(Math.pow(a.deltaX,2)+Math.pow(a.deltaY,2)),d=u<=n;if(n=u,c||d)return;let f;(a.deltaX>0||a.deltaY>0)&&(f="next"),(a.deltaX<0||a.deltaY<0)&&(f="prev"),f&&(e[f](),s=Date.now())})}}function u(e=".bespoke-marp-osc"){const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[data-bespoke-marp-osc=${JSON.stringify(e)}]`).forEach(n)};return i.isEnabled||n("fullscreen",e=>e.style.display="none"),e=>{t.addEventListener("click",t=>{if(t.target instanceof HTMLElement)switch(t.target.dataset.bespokeMarpOsc){case"next":e.next();break;case"prev":e.prev();break;case"fullscreen":"function"==typeof e.fullscreen&&i.isEnabled&&e.fullscreen()}}),e.parent.appendChild(t),e.on("activate",({index:t})=>{n("page",n=>n.textContent=`Page ${t+1} of ${e.slides.length}`)}),e.on("fragment",({index:t,fragments:r,fragmentIndex:s})=>{n("prev",e=>e.disabled=0===t&&0===s),n("next",n=>n.disabled=t===e.slides.length-1&&s===r.length-1)}),i.isEnabled&&i.onchange(()=>n("fullscreen",e=>e.classList.toggle("exit",i.isEnabled&&i.isFullscreen)))}}!function(e){e.X="X",e.Y="Y"}(o||(o={}));const d=".bespoke-progress-bar";function f(e){e.on("activate",t=>{document.querySelectorAll(d).forEach(n=>{n.style.flexBasis=`${100*t.index/(e.slides.length-1)}%`})})}const h=(e,{protocol:t,host:n,pathname:r,hash:s}=location)=>{const a=e.toString();return`${t}//${n}${r}${a?"?":""}${a}${s}`},m=e=>new URLSearchParams(location.search).get(e),g=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t};function p(e={}){const t=Object.assign({history:!0},e);return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},s=(t={fragment:!0})=>{((t,n)=>{const{fragments:r,slides:s}=e,a=Math.max(0,Math.min(t,s.length-1)),o=Math.max(0,Math.min(n||0,r[a].length-1));a===e.slide()&&o===e.fragmentIndex||e.slide(a,{fragment:o})})((g(location.hash.slice(1))||1)-1,t.fragment?g(m("f")||""):null)};e.on("fragment",({index:e,fragmentIndex:r})=>{if(n)return;const s=new URLSearchParams(location.search);0===r?s.delete("f"):s.set("f",r.toString()),((...e)=>{try{t.history?history.pushState(...e):history.replaceState(...e)}catch(e){console.error(e)}})(null,document.title,h(s,Object.assign(Object.assign({},location),{hash:`#${e+1}`})))}),setTimeout(()=>{s(),window.addEventListener("hashchange",()=>r(()=>{s({fragment:!1});const e=new URLSearchParams(location.search);e.delete("f");try{history.replaceState(null,document.title,h(e))}catch(e){console.error(e)}})),window.addEventListener("popstate",()=>{n||r(()=>s())}),n=!1},0)}}var b=self.crypto||self.msCrypto,v=function(e){e=e||21;for(var t="",n=b.getRandomValues(new Uint8Array(e));0<e--;)t+="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-"[63&n[e]];return t};function w(e={}){const t=e.key||v(),n=`bespoke-marp-sync-${t}`,r=()=>{const e=localStorage.getItem(n);return e?JSON.parse(e):Object.create(null)},s=e=>{const t=r(),s=Object.assign(Object.assign({},t),e(t));return localStorage.setItem(n,JSON.stringify(s)),s};return s(e=>({reference:(e.reference||0)+1})),e=>{Object.defineProperty(e,"syncKey",{value:t,enumerable:!0}),setTimeout(()=>{e.on("fragment",e=>{s(()=>({index:e.index,fragmentIndex:e.fragmentIndex}))})},0),window.addEventListener("storage",t=>{if(t.key===n&&t.oldValue&&t.newValue){const n=JSON.parse(t.oldValue),r=JSON.parse(t.newValue);n.index===r.index&&n.fragmentIndex===r.fragmentIndex||e.slide(r.index,{fragment:r.fragmentIndex})}}),e.on("destroy",()=>{const{reference:e}=r();void 0===e||e<=1?localStorage.removeItem(n):s(()=>({reference:e-1}))})}}function E(e={}){const t=Object.assign({slope:Math.tan(-35*Math.PI/180),swipeThreshold:30},e);return e=>{let n;const r=e.parent,s=e=>{const t=r.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};r.addEventListener("touchstart",e=>{n=1===e.touches.length?s(e.touches[0]):void 0}),r.addEventListener("touchmove",e=>{if(n)if(1===e.touches.length){e.preventDefault();const t=s(e.touches[0]),r=t.x-n.x,a=t.y-n.y;n.delta=Math.sqrt(Math.pow(Math.abs(r),2)+Math.pow(Math.abs(a),2)),n.radian=Math.atan2(r,a)}else n=void 0}),r.addEventListener("touchend",r=>{if(n){if(n.delta&&n.delta>=t.swipeThreshold){let s=n.radian-t.slope;s=(s+Math.PI)%(2*Math.PI)-Math.PI,e[s<0?"next":"prev"](),r.stopPropagation()}n=void 0}})}}!function(o=document.getElementById("p")){const i=e.from(o,[t(),n,r(),s,p({history:!1}),c(),l,f,E(),u(),a,w({key:m("sync")||void 0})]);window.addEventListener("unload",()=>i.destroy())}()}();
</script></body></html>